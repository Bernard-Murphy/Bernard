(this.webpackJsonpfreegluten=this.webpackJsonpfreegluten||[]).push([[0],{15:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var s=n(3),a=n.n(s),r=n(10),c=n.n(r),i=(n(15),n(2)),o=n.n(i),l=n(1),u=n(4),d=n(5),h=n(6),j=n(8),p=n(7),b=(n(17),n(0)),g=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(d.a)(this,n),(s=t.call(this)).openUrl=function(e){window.open(e)},s.copyNumber=function(e,t){var n=document.getElementById("i-".concat(t));n.classList.remove("hide"),n.select(),n.setSelectionRange(0,9999),document.execCommand("copy"),n.classList.add("hide"),document.querySelector("#c-".concat(t)).setAttribute("data-tooltip","Number Copied")},s.state={rests:e.rests},s}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=0;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{id:"div-restaurants-container",children:this.state.rests.map((function(n){var s=t;t+=1;var a="";if(n.phone.length>0){for(var r=(a=n.phone.split("+")[1]).split("");r.length>10;){for(var c=[],i=1;i<r.length;i++)c.push(r[i]);r=(a=c.join("")).split("")}(a=a.split("")).splice(3,0,"-"),a.splice(7,0,"-"),a=a.join("")}return Object(b.jsxs)("div",{className:"div-restaurant",children:[Object(b.jsx)("img",{alt:"".concat(n.name),className:"img-restaurant",src:n.image_url}),Object(b.jsxs)("div",{className:"div-restaurant-info",children:[Object(b.jsxs)("div",{className:"div-info-1",children:[Object(b.jsx)("h3",{onClick:function(){return e.openUrl(n.url)},className:"h3-restaurant-name",children:n.name}),Object(b.jsx)("div",{className:"div-restaurant-address",children:n.location.display_address.map((function(e){return Object(b.jsx)("p",{className:"p-restaurant-address",children:e},Math.random())}))})]}),Object(b.jsxs)("div",{className:"div-info-2",children:[Object(b.jsxs)("div",{className:"div-phone-container",children:[Object(b.jsx)("img",{className:"img-phone",src:"https://bernardmurphy.net/assets/phoneicontrans.png",alt:"phone"}),Object(b.jsx)("p",{className:"p-phone",children:a}),Object(b.jsx)("button",{id:"c-".concat(s),"data-tooltip":"Copy to Clipboard",className:"button-copy",onClick:function(){return e.copyNumber(a,s)},children:"Copy number"}),Object(b.jsx)("input",{readOnly:!0,type:"text",className:"hide",value:a,id:"i-".concat(s)})]}),Object(b.jsxs)("div",{className:"div-rating-container",children:[Object(b.jsxs)("div",{className:"div-rating-top",children:[Object(b.jsx)("p",{className:"p-rating-word",children:"Rating:"}),Object(b.jsx)("img",{alt:"".concat(n.rating," stars"),className:"img-rating",src:"https://bernardmurphy.net/assets/yelp_stars/use/".concat(n.rating,".png")})]}),Object(b.jsxs)("div",{className:"div-rating-bottom",children:[Object(b.jsx)("p",{className:"p-rating-number",children:"(".concat(n.review_count," reviews)")}),Object(b.jsx)("img",{onClick:function(){return e.openUrl(n.url)},alt:"Yelp",className:"img-yelp",src:"https://bernardmurphy.net/assets/yelp-logo.png"})]})]}),void 0!==n.price?Object(b.jsxs)("div",{className:"div-price-container",children:[Object(b.jsx)("p",{className:"p-price-word",children:"Price:"}),Object(b.jsx)("p",{className:"p-price-signs",children:n.price.split("").map((function(e){return"$"}))})]}):Object(b.jsx)(b.Fragment,{})]})]})]},Math.random())}))})})}}]),n}(a.a.Component),m=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).getLocation=function(t){e.setState({locationAllowed:!0,latitude:t.coords.latitude,longitude:t.coords.longitude})},e.getGluten=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!1===e.state.locationAllowed?e.setState(Object(l.a)(Object(l.a)({},e.state),{},{fetching:!1,error:!0,errorMessage:"You have not allowed the app to access your location."})):!1===e.state.fetching&&(e.setState(Object(l.a)(Object(l.a)({},e.state),{},{error:!1,fetching:!0,businesses:[]})),fetch("https://bernardmurphy.net/glutenfree/".concat(e.state.latitude,"/").concat(e.state.longitude)).then(function(){var t=Object(u.a)(o.a.mark((function t(n){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:s=t.sent,e.setState(Object(l.a)(Object(l.a)({},e.state),{},{businesses:s.rests.businesses,fetching:!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},{fetching:!1,error:!0,errorMessage:"An error occurred. Please try again."}))})));case 1:case"end":return t.stop()}}),t)}))),e.getVegan=Object(u.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:!1===e.state.locationAllowed?e.setState(Object(l.a)(Object(l.a)({},e.state),{},{fetching:!1,error:!0,errorMessage:"You have not allowed the app to access your location."})):!1===e.state.fetching&&(e.setState(Object(l.a)(Object(l.a)({},e.state),{},{error:!1,fetching:!0,businesses:[]})),fetch("https://bernardmurphy.net/vegan/".concat(e.state.latitude,"/").concat(e.state.longitude)).then(function(){var t=Object(u.a)(o.a.mark((function t(n){var s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:s=t.sent,e.setState(Object(l.a)(Object(l.a)({},e.state),{},{businesses:s.rests.businesses,fetching:!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},{fetching:!1,error:!0,errorMessage:"An error occurred. Please try again."}))})));case 1:case"end":return t.stop()}}),t)}))),e.state={latitude:0,longitude:0,businesses:[],fetching:!1,error:!1,errorMessage:"",locationAllowed:!1},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){navigator.geolocation.getCurrentPosition(this.getLocation)}},{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h1",{id:"h1-specoresto",children:"Specoresto"}),Object(b.jsxs)("div",{id:"div-button-container",children:[Object(b.jsx)("button",{id:"button-gluten-free",onClick:this.getGluten,children:"Gluten Free Restaurants Near Me"}),Object(b.jsx)("button",{id:"button-vegan",onClick:this.getVegan,children:"Vegan Restaurants Near Me"})]}),this.state.businesses.length?Object(b.jsx)(g,{rests:this.state.businesses}):!0===this.state.fetching?Object(b.jsx)("p",{className:"p-fetching",children:"Fetching Restaurants. Please Wait..."}):Object(b.jsx)(b.Fragment,{}),Object(b.jsx)("p",{className:"p-error",children:this.state.error?this.state.errorMessage:Object(b.jsx)(b.Fragment,{})})]})}}]),n}(a.a.Component),O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root")),O()}},[[19,1,2]]]);
//# sourceMappingURL=main.600a364b.chunk.js.map