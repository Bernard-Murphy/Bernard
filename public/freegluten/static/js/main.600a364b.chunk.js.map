{"version":3,"sources":["components/Restaurants.js","App.js","reportWebVitals.js","index.js"],"names":["Restaurants","props","openUrl","url","window","open","copyNumber","num","ind","phoneNumber","document","getElementById","classList","remove","select","setSelectionRange","execCommand","add","querySelector","setAttribute","state","rests","index","id","this","map","rest","pho","phone","length","phoneSplit","split","newphone","i","push","join","splice","className","alt","name","src","image_url","onClick","location","display_address","Math","random","data-tooltip","readOnly","type","value","rating","review_count","undefined","price","sign","React","Component","App","getLocation","pos","setState","locationAllowed","latitude","coords","longitude","getGluten","a","fetching","error","errorMessage","businesses","fetch","then","res","json","catch","err","getVegan","navigator","geolocation","getCurrentPosition","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.600a364b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass Restaurants extends React.Component{\r\n    constructor(props){\r\n        super();\r\n        this.state = {\r\n            rests: props.rests\r\n        }\r\n    }\r\n\r\n    // componentDidMount(){\r\n    //     console.log(this.state);\r\n    // }\r\n\r\n    openUrl = (url) => {\r\n        window.open(url);\r\n    }\r\n\r\n    copyNumber = (num, ind) => {\r\n        let phoneNumber = document.getElementById(`i-${ind}`);\r\n        phoneNumber.classList.remove('hide');\r\n        phoneNumber.select();\r\n        phoneNumber.setSelectionRange(0, 9999);\r\n        document.execCommand('copy');\r\n        phoneNumber.classList.add('hide');\r\n        const tooltip = document.querySelector(`#c-${ind}`);\r\n        tooltip.setAttribute('data-tooltip', 'Number Copied');\r\n    }\r\n\r\n    render(){\r\n        let index = 0;\r\n        return (\r\n        <>\r\n            <div id=\"div-restaurants-container\">\r\n                {this.state.rests.map((rest) => {\r\n                    let pho = index;\r\n                    index += 1;\r\n                    let phone = '';\r\n                    if (rest.phone.length > 0){\r\n                        phone = rest.phone.split('+')[1];\r\n                        let phoneSplit = phone.split('');\r\n                        while (phoneSplit.length > 10){\r\n                            let newphone = [];\r\n                            for (let i = 1; i < phoneSplit.length; i++){\r\n                                newphone.push(phoneSplit[i]);\r\n                            };\r\n                            phone = newphone.join('');\r\n                            phoneSplit = phone.split('');\r\n                        }\r\n                        phone = phone.split('');\r\n                        phone.splice(3, 0, \"-\");\r\n                        phone.splice(7, 0, \"-\")\r\n                        phone = phone.join('');\r\n                    }\r\n                    return (\r\n                        <div key={Math.random()} className=\"div-restaurant\">\r\n                            <img alt={`${rest.name}`} className=\"img-restaurant\" src={rest.image_url}/>\r\n                            <div className=\"div-restaurant-info\">\r\n                                <div className=\"div-info-1\">\r\n                                    <h3 onClick={() => this.openUrl(rest.url)} className=\"h3-restaurant-name\">{rest.name}</h3>\r\n                                    <div className=\"div-restaurant-address\">\r\n                                        {rest.location.display_address.map((add) => {\r\n                                            return (\r\n                                                <p key={Math.random()} className=\"p-restaurant-address\">{add}</p>\r\n                                            )\r\n                                        })}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"div-info-2\">\r\n                                    <div className=\"div-phone-container\">\r\n                                        <img className=\"img-phone\" src=\"https://bernardmurphy.net/assets/phoneicontrans.png\" alt=\"phone\"/>\r\n                                        <p className=\"p-phone\">{phone}</p>\r\n                                        <button id={`c-${pho}`} data-tooltip=\"Copy to Clipboard\" className=\"button-copy\" onClick={() => this.copyNumber(phone, pho)}>Copy number</button>\r\n                                        <input readOnly type=\"text\" className=\"hide\" value={phone} id={`i-${pho}`}/>\r\n                                    </div>\r\n                                    <div className=\"div-rating-container\">\r\n                                        <div className=\"div-rating-top\">\r\n                                            <p className=\"p-rating-word\">Rating:</p>\r\n                                            <img alt={`${rest.rating} stars`} className=\"img-rating\" src={`https://bernardmurphy.net/assets/yelp_stars/use/${rest.rating}.png`}/>\r\n                                        </div>\r\n                                        <div className=\"div-rating-bottom\">\r\n                                            <p className=\"p-rating-number\">{`(${rest.review_count} reviews)`}</p>\r\n                                            <img onClick={() => this.openUrl(rest.url)} alt=\"Yelp\" className=\"img-yelp\" src=\"https://bernardmurphy.net/assets/yelp-logo.png\"/>\r\n                                        </div>\r\n                                    </div>\r\n                                    {(rest.price !== undefined) ?\r\n                                        <div className=\"div-price-container\">\r\n                                            <p className=\"p-price-word\">Price:</p>\r\n                                            <p className=\"p-price-signs\">{rest.price.split('').map((sign) => {return '$'})}</p>\r\n                                        </div> : \r\n                                        <></>\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })} \r\n            </div>\r\n        </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Restaurants;","import React from 'react';\nimport './App.css';\nimport Restaurants from './components/Restaurants';\n\nclass App extends React.Component{\n  constructor(){\n    super();\n    this.state = {\n      latitude: 0,\n      longitude: 0,\n      businesses: [],\n      fetching: false,\n      error: false,\n      errorMessage: \"\",\n      locationAllowed: false\n    };\n  }\n\n  getLocation = (pos) => {\n    /* This is the callback function that gets called when the user allows the app to use their location. Inserts the user's coordinates into state. */\n    this.setState({\n      locationAllowed: true,\n      latitude: pos.coords.latitude,\n      longitude: pos.coords.longitude\n    })\n  }\n\n  getGluten = async () => {\n    /* If the user has not allowed the app to use their location, they will get an error */\n    if (this.state.locationAllowed === false){\n      this.setState({\n        ...this.state,\n        fetching: false,\n        error: true,\n        errorMessage: \"You have not allowed the app to access your location.\"\n      })\n    } else {\n      if (this.state.fetching === false){\n        this.setState({\n          ...this.state,\n          error: false,\n          fetching: true,\n          businesses: []\n        })\n        // API call is made to my server, which contains my API key. The user will never be able to see it.\n        fetch(`https://bernardmurphy.net/glutenfree/${this.state.latitude}/${this.state.longitude}`).then(async res => {\n          const rests = await res.json();\n          this.setState({\n            ...this.state,\n            businesses: rests.rests.businesses,\n            fetching: false\n          })\n    \n        }).catch(err => {\n          this.setState({\n            ...this.state,\n            fetching: false,\n            error: true,\n            errorMessage: \"An error occurred. Please try again.\"\n          })\n        })\n      }\n    } \n  }\n\n  getVegan = async () => {\n    // This one is identical to getGluten, but with vegan restaurants instead.\n    if (this.state.locationAllowed === false){\n      this.setState({\n        ...this.state,\n        fetching: false,\n        error: true,\n        errorMessage: \"You have not allowed the app to access your location.\"\n      })\n    } else {\n      if (this.state.fetching === false){\n        this.setState({\n          ...this.state,\n          error: false,\n          fetching: true,\n          businesses: []\n        })\n        fetch(`https://bernardmurphy.net/vegan/${this.state.latitude}/${this.state.longitude}`).then(async res => {\n          const rests = await res.json();\n          this.setState({\n            ...this.state,\n            businesses: rests.rests.businesses,\n            fetching: false\n          })\n        }).catch(err => {\n          this.setState({\n            ...this.state,\n            fetching: false,\n            error: true,\n            errorMessage: \"An error occurred. Please try again.\"\n          })\n        })\n      }\n    }\n    \n  }\n\n  componentDidMount(){\n    // When the component mounts, the user is prompted to give the app their location\n    navigator.geolocation.getCurrentPosition(this.getLocation);\n  }\n\n\n  render(){\n    return (\n      <>\n        <h1 id=\"h1-specoresto\">Specoresto</h1>\n        <div id=\"div-button-container\">\n          <button id=\"button-gluten-free\" onClick={this.getGluten}>Gluten Free Restaurants Near Me</button>\n          <button id=\"button-vegan\" onClick={this.getVegan}>Vegan Restaurants Near Me</button>\n        </div>\n        {this.state.businesses.length ? <Restaurants rests={this.state.businesses}/> : (this.state.fetching === true) ? <p className=\"p-fetching\">Fetching Restaurants. Please Wait...</p> : <></>}\n        <p className=\"p-error\">{(this.state.error) ? this.state.errorMessage : <></>}</p>\n      </>\n    )\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}